{% extends "_base.html" %}

{% block title %}Moods{% endblock title %}

{% block content %}
  <header>
    {% include "_primary_nav.html" %}
  </header>

  <main class="mt-32 mb-12 mx-3.5 md:w-2/4 md:mx-auto"
        <ul id="moodList">
    {% for mood in moods %}
      <li x-data="{ moodEmoji: moodToEmoji[{{ mood.mood }}] }">
        <span x-text="moodEmoji"></span>

        <time>
          <span x-text="formatDate('{{ mood.timestamp|date:"c" }}')"></span>
          <span x-text="formatTime('{{ mood.timestamp|date:"c" }}')"></span>
        </time>

        <ul>
          {% for activity in mood.activities.all %}
            <li> {{ activity.name }}</li>
          {% endfor %}
        </ul>

        <p>{{ mood.note_title }}</p>
      </li>
    {% endfor %}

    {% if page_obj.has_next %}
      <span
        hx-get="/moods/?page=2" hx-trigger="revealed" hx-swap="afterend">
      </span>
      </ul>
    {% endif %}

  </main>
{% endblock content %}
